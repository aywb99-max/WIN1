<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­ÙŠØ±Ø© Ø§Ù„Ù…Ø·ÙˆÙ‘Ø±</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --p: #6d4c41; --s: #e67e22; --bg: #f9f9f9; }
        body { font-family: 'Tajawal', sans-serif; background: var(--bg); margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; -webkit-tap-highlight-color: transparent; }
        header { background: white; width: 100%; text-align: center; padding: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .container { width: 90%; max-width: 400px; margin-top: 15px; text-align: center; }
        
        .main-selector { display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px; background: #fff; padding: 15px; border-radius: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .row { display: flex; justify-content: center; gap: 10px; }
        .btn-toggle { padding: 8px 20px; border: 2px solid #eee; border-radius: 50px; font-size: 14px; font-weight: bold; cursor: pointer; background: white; color: #777; transition: 0.3s; }
        .btn-toggle.active { background: #333; color: white; border-color: #333; }
        
        .mode-selector { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; }
        .btn-mode { padding: 10px 25px; border: none; border-radius: 50px; font-size: 15px; font-weight: bold; cursor: pointer; }
        .active-res { background: var(--s) !important; color: white !important; }
        .active-cafe { background: var(--p) !important; color: white !important; }

        .alphabet-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; padding: 5px; }
        .letter-btn { background: white; border: none; padding: 15px 0; border-radius: 12px; font-size: 18px; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.05); color: #333; cursor: pointer; }
        
        /* ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ù„ÙŠÙ„ */
        .guide-container { display: none; text-align: right; background: white; padding: 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .guide-item { padding: 12px; border-bottom: 1px solid #f0f0f0; font-size: 17px; color: #444; }

        #results-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); display: none; justify-content: center; align-items: center; z-index: 200; backdrop-filter: blur(5px); }
        .results-card { background: white; width: 85%; max-width: 320px; padding: 25px; border-radius: 25px; text-align: center; }
        .num-btn { background: #f8f9fa; border: 2px solid #eee; padding: 12px; margin: 8px 0; border-radius: 12px; display: block; width: 100%; font-size: 17px; font-weight: bold; color: #444; cursor: pointer; }
        .num-btn.revealed { background: #fff3e0; border-color: var(--s); color: #333; }
        .close-btn { background: #eee; color: #333; border: none; padding: 12px 30px; border-radius: 12px; font-weight: bold; margin-top: 15px; cursor: pointer; }
    </style>
</head>
<body>

<header><h3 id="main-title">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­ÙŠØ±Ø© ğŸ¤”</h3></header>

<div class="container">
    <div class="main-selector">
        <div class="row">
            <button class="btn-toggle active" id="gameModeBtn" onclick="setPlayStyle('game')">ğŸ® ÙˆØ¶Ø¹ Ø§Ù„Ø­ÙŠØ±Ø©</button>
            <button class="btn-toggle" id="guideModeBtn" onclick="setPlayStyle('guide')">ğŸ“– ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ù„ÙŠÙ„</button>
        </div>
        <div class="row">
            <button class="btn-mode active-res" id="resBtn" onclick="setCategory('restaurant')">Ù…Ø·Ø§Ø¹Ù…</button>
            <button class="btn-mode" id="cafeBtn" onclick="setCategory('cafe')">ÙƒØ§ÙÙŠÙ‡Ø§Øª</button>
        </div>
    </div>

    <div id="alphabetGrid" class="alphabet-grid"></div>

    <div id="guideList" class="guide-container"></div>
</div>

<div id="results-overlay">
    <div class="results-card">
        <h3 id="overlay-title"></h3>
        <div id="contentList"></div>
        <button class="close-btn" onclick="closeResults()">Ø±Ø¬ÙˆØ¹</button>
    </div>
</div>

<script>
    let playStyle = 'game'; 
    let category = 'restaurant';
    const letters = "Ø£Ø¨ØªØ«Ø¬Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙ‚ÙƒÙ„Ù…Ù†Ù‡ÙˆÙŠ".split("");
    
    const data = {
        cafe: {
            "Ø£": ["Ø¢Ù†", "Ø§Ø¨ÙŠ", "Ø§ÙˆÙ„Ù‚Ø§", "Ø§Ù… Ø¯ÙŠ", "Ø§ÙˆØ¬Ù†"],
            "Ø¨": ["Ø¨ÙŠØ¯", "Ø¨ÙˆÙ‚", "Ø¨Ø§ØªØ±Ù†", "Ø¨Ø§Ø´", "Ø¨Ø§Ø±Ø¯"],
            "Øª": ["ØªÙ„Ùˆ", "ØªÙˆÙŠÙ†", "ØªÙˆØ±Ø§"], "Ø«": ["Ø«Ù…Ø§Ù†ÙŠÙ†"], "Ø¬": ["Ø¬ÙˆÙ…Ùˆ", "Ø¬ÙˆÙ‰", "Ø¬ÙˆØ§Ø±"], "Ø¯": ["Ø¯Ø±Ø¨"], "Ø±": ["Ø±ÙŠØ¨Ù„", "Ø±Ø§ÙˆÙ†Ø¯", "Ø±ØªÙ…"], "Ø³": ["Ø³Ù„Ù…", "Ø³Ù…Ø±Ø§Ø¡", "Ø³ÙˆØ±Ø§"], "Ù": ["ÙÙˆØ²Øª", "ÙÙ†Ø§Ø¡"], "Ù‚": ["Ù‚Ù„Ùˆ", "Ù‚Ø¯Ø­"], "Ùƒ": ["ÙƒØ«Ø¨", "ÙƒÙˆÙÙŠÙƒØ§", "ÙƒÙ†Ù†", "ÙƒØ§Ù…ÙŠÙ„Ø§"], "Ù…": ["Ù…Ù„Øª"], "Ù†": ["Ù†Ø§Ø­ÙŠØ©", "Ù†Ø¨Ø§", "Ù†Ø¯Ø±"], "Ù‡": ["Ù‡Ø§Ù†Ù…"], "Ùˆ": ["ÙˆØ¬ÙŠÙ†", "ÙˆÙ„ÙŠÙ"]
        },
        restaurant: {
            "Ø£": ["Ø§Ù†Ø¯ÙŠÙƒ", "Ø§ØªØ² Ø¨ÙŠ", "Ø§Ø²ÙˆØ±ÙŠ", "Ø§ÙˆÙƒÙ†Ùˆ", "Ø§ÙÙŠÙƒØªÙˆ", "Ø§Ø±Ø¨Ù† Ù…Ù†Ø¤Ø´Ø©", "Ø§Ø¨Ùˆ Ø§Ù„Ø¹Ø¨Ø¯", "Ø§ØªÙˆÙ†"]
        }
    };

    function init() {
        renderAlphabet();
        if(playStyle === 'guide') renderGuide();
    }

    function renderAlphabet() {
        const grid = document.getElementById('alphabetGrid');
        grid.innerHTML = "";
        letters.forEach(char => {
            const btn = document.createElement('button');
            btn.className = 'letter-btn';
            btn.innerText = char;
            btn.onclick = () => showGameResults(char);
            grid.appendChild(btn);
        });
    }

    function renderGuide() {
        const guideList = document.getElementById('guideList');
        guideList.innerHTML = "";
        let allPlaces = [];
        
        // Ø¬Ù…Ø¹ ÙƒÙ„ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† ÙÙŠ Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ø®ØªØ§Ø±
        Object.values(data[category]).forEach(arr => {
            allPlaces = allPlaces.concat(arr);
        });

        // ØªØ±ØªÙŠØ¨ Ø£Ø¨Ø¬Ø¯ÙŠ
        allPlaces.sort().forEach(place => {
            const item = document.createElement('div');
            item.className = 'guide-item';
            item.innerText = place;
            guideList.appendChild(item);
        });
    }

    function setPlayStyle(style) {
        playStyle = style;
        document.getElementById('gameModeBtn').classList.toggle('active', style === 'game');
        document.getElementById('guideModeBtn').classList.toggle('active', style === 'guide');
        
        if (style === 'guide') {
            document.getElementById('alphabetGrid').style.display = 'none';
            document.getElementById('guideList').style.display = 'block';
            renderGuide();
        } else {
            document.getElementById('alphabetGrid').style.display = 'grid';
            document.getElementById('guideList').style.display = 'none';
        }
    }

    function setCategory(cat) {
        category = cat;
        document.getElementById('resBtn').classList.toggle('active-res', cat === 'restaurant');
        document.getElementById('cafeBtn').classList.toggle('active-cafe', cat === 'cafe');
        document.getElementById('main-title').innerText = cat === 'cafe' ? "ÙˆÙŠÙ† ØªØ¨ÙŠ Ù†ØªÙ‚Ù‡ÙˆÙ‰ØŸ â˜•" : "ÙˆØ´ Ø§Ù„Ø¹Ø´Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ…ØŸ ğŸ”";
        if (playStyle === 'guide') renderGuide();
    }

    function showGameResults(letter) {
        const list = document.getElementById('contentList');
        const title = document.getElementById('overlay-title');
        list.innerHTML = "";
        let results = data[category][letter] || [];

        if (results.length > 0) {
            title.innerText = `Ø­Ø±Ù (${letter}) - Ø¹Ø´ÙˆØ§Ø¦ÙŠ ğŸ²`;
            
            // Ø®Ù„Ø· Ø§Ù„ØªØ±ØªÙŠØ¨ Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø©
            let shuffled = results.map(value => ({ value, sort: Math.random() }))
                                  .sort((a, b) => a.sort - b.sort)
                                  .map(({ value }) => value);

            shuffled.forEach((place, index) => {
                const btn = document.createElement('button');
                btn.className = 'num-btn';
                btn.innerText = `Ø®ÙŠØ§Ø± Ø±Ù‚Ù… ${index + 1}`;
                btn.onclick = () => { btn.innerText = place; btn.classList.add('revealed'); };
                list.appendChild(btn);
            });
        } else {
            title.innerText = "Ù‚Ø±ÙŠØ¨Ø§Ù‹";
            list.innerHTML = "<p>ğŸš§ Ø¬Ø§Ø±ÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹</p>";
        }
        document.getElementById('results-overlay').style.display = 'flex';
    }

    function closeResults() { document.getElementById('results-overlay').style.display = 'none'; }
    init();
</script>
</body>
</html>
